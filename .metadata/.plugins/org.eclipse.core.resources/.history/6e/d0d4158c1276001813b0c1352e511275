'''
Created on 21 de jun de 2018

@author: 155 X-MX
'''
from pathlib import Path
import zlib


path_to_directory = "C:/Users/155 X-MX/Desktop/sand_box"
#file_name = "Leituras.ctec"
file_name = "Init_DTC.ctec"

data_folder = Path(path_to_directory)
file_to_open = data_folder / file_name
     


compressed_data = open(file_to_open,"rb").read()
decompressed_data = zlib.decompress(compressed_data)




# open file
data_folder = Path("C:/Users/155 X-MX/Desktop/")
file_to_open = data_folder / "decompressed_cap.ctec"
f = open(file_to_open,"wb")
 
f.write(decompressed_data)
f.close() 

# Key: 'Capture data for' + ModuleKey + 'Tecnomotor Eletronica do Brasil' + ModuleKey
first_part = b'Capture data for'
second_part = b'Tecnomotor Eletronica do Brasil' 
#Capture data for312001Tecnomotor Eletronica do Brasil312001
# Tecnomotor Eletronica do BrasilCapture data for
# ModuleKey: 0x03 0x01 0x02 0x00 0x00 0x01
mdkey = [3,1,2,0,0,1]
l_bytes = []
test = b''
for i in mdkey:
    b = i.to_bytes(1, byteorder='big', signed=True)
    l_bytes.append(b)
    test += b
print (test) 

#full_key = first_part+
    
#i.to_bytes(1, byteorder='big', signed=True) 

#var = b'Capture data for'+'
print(decompressed_data)  

